edition = "2023";

option go_package = "whitequark.org/git-pages/main";

enum Type {
	// Invalid entry.
	Invalid = 0;
	// Directory.
	Directory = 1;
	// Inline file. `Blob.Data` contains file contents.
	InlineFile = 2;
	// External file. `Blob.Data` contains object reference.
	ExternalFile = 3;
	// Symlink. `Blob.Data` contains relative path.
	Symlink = 4;
}

message Entry {
    Type type = 1;
    uint32 size = 2;
    bytes data = 3;
}

message Manifest {
    string repo_url = 1;
    string branch = 2;
    string commit = 3;
    map<string, Entry> contents = 4;
}
